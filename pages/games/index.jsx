import Head from 'next/head';
import { Inter } from 'next/font/google';
import { useState, useEffect, useCallback } from 'react';

import Layout from '@/components/Layout';
import Heading from '@/components/Heading';

const BALLDONTLIE_API_KEY = process.env.BALLDONTLIE_API_KEY;

const gamesEndpoint = 'https://api.balldontlie.io/v1/games';

export default function Games() {
  const [games, setGames] = useState({});

  // const getGamesOnDate = useCallback((getGames) => {
  //   getGames = async () => {
  //     await fetch(`${BALLDONTLIE_ENDPOINT}games`, {
  //       method: 'GET',
  //       headers: {
  //         'Content-Type': `application/json; charset="UTF-8`,
  //         Authorization: BALLDONTLIE_API_KEY,
  //       },
  //     })
  //       .then((res) => res.json())
  //       .catch((err) => console.log(err));
  //   };
  // });

  useEffect(() => {
    fetch('https://api.balldontlie.io/v1/games', {
      method: 'GET',
      headers: {
        Authorization: BALLDONTLIE_API_KEY,
      },
    })
      .then((res) => res.json())
      .catch((err) => console.log(err))
      .then((data) => {
        console.log(data);
      }),
      console.log(games);
    console.log('test');
  });

  return (
    <>
      <Head>
        <title>Games - NBA Guesses</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <Heading>Games</Heading>
      </Layout>
    </>
  );
}
